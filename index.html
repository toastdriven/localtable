<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>localtable</h1>
<p>A thin database-like wrapper over <code>window.localStorage</code>.</p>
<p>You create a table (or tables) to store many similar rows in, &amp; <code>localtable</code>
handles all the usual CRUD/database-style operations.</p>
<h2>Usage</h2>
<pre class="prettyprint source lang-javascript"><code>import { LocalTable } from &quot;localtable&quot;;

const records = new LocalTable(
    window.localStorage, // ...or 'window.sessionStorage', or any other 'Storage'-like object.
    &quot;records&quot;, // The name of the table.
    {
        fields: [
            { name: &quot;firstName&quot;, type: &quot;str&quot; },
            { name: &quot;lastName&quot;, type: &quot;str&quot; },
            { name: &quot;createdAt&quot;, type: &quot;timestamp&quot; },
            { name: &quot;loginCount&quot;, type: &quot;int&quot;, default: 0, required: false },
        ]
    }
);

console.log(`Initial count: ${records.count()}`);

records.insert(
    1, // An ID, which can be any unique JSON-serializable identifier
    {
        firstName: &quot;Daniel&quot;,
        lastName: &quot;Lindsley&quot;,
        createdAt: Date.now(),
    }
);
records.insert(2, {
    firstName: &quot;Jane&quot;,
    lastName: &quot;Doe&quot;,
    createdAt: Date.now(),
});

console.log(`New count: ${records.count()}`);

// Pull specific rows by ID.
let dl = records.get(1);

console.log(`Hello, ${dl.firstName}!`);

// Update information.
records.update(2, {
    firstName: &quot;Jenn&quot;,
    loginCount: 3,
});

// Grab all the rows in the table & iterate.
for(const record of records.all()) {
    console.log(`Saw #${record.id}: ${record.firstName} - ${record.loginCount}`);
}

// Or filter down to specific data.
const filtered = records.filter({
    createdAt: {&quot;>=&quot;: Date.parse(&quot;2021-11-24&quot;)},
    loginCount: {&quot;&lt;&quot;: &quot;2&quot;},
});
console.log(filtered.length); // 1
console.log(filtered[0].firstName); // &quot;Daniel&quot;
console.log(filtered[0].loginCount); // 0

// Delete a single row.
records.delete(1);

// Or drop the whole table.
records.drop();
</code></pre>
<h2>API</h2>
<p><code>const table = new LocalTable(store, tableName, options)</code> - Creates a new
<code>LocalTable</code>.</p>
<p><code>table.create()</code> - Sets up the table in the <code>storage</code>.</p>
<p><code>table.drop()</code> - Deletes the table from <code>storage</code>.</p>
<p><code>table.get(id)</code> - Fetches a row from the table by ID.</p>
<p><code>table.insert(id, data)</code> - Inserts a new row into the table.</p>
<p><code>table.update(id, data)</code> - Updates (or inserts) a row in the table.</p>
<p><code>table.delete(id)</code> - Deletes a row from the table.</p>
<p><code>table.exists(id)</code> - Checks if a row is present in the table. Returns <code>true</code>
or <code>false</code>.</p>
<p><code>table.count()</code> - Returns a count of the number of records in the table.</p>
<p><code>table.all()</code> - Returns all records in the table.</p>
<p><code>table.filter(filterDataOrFunc)</code> - Returns a filtered set of data from the
table. If a plain object is provided, an <code>AND</code>-style filtering of the data is
performed. If a function is provided, it should take a single <code>data</code> parameter
&amp; should return <code>true</code>/<code>false</code> if the row should be included in the output.</p>
<h2>Testing</h2>
<p><code>npm test</code></p>
<h2>License</h2>
<p>New BSD</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-localtable_index.html">localtable/index</a></li><li><a href="module-localtable_table.html">localtable/table</a></li><li><a href="module-localtable_validation.html">localtable/validation</a></li></ul><h3>Classes</h3><ul><li><a href="module-localtable_table-LocalTable.html">LocalTable</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Tue Nov 30 2021 17:43:39 GMT-0600 (Central Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>